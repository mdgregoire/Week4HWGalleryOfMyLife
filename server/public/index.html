<!DOCTYPE html>
<html lang="en" ng-app = "myApp">
  <head>
    <meta charset="utf-8">
    <title>GALLERY</title>
    <script src="vendors/angular.js" charset="utf-8"></script>
    <script src="scripts/client.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  </head>
  <body ng-controller="GalleryController as vm">
    <h1>GALLERY</h1>
    <section id="displayArea">
      <div ng-repeat="image in vm.imageArray" class="image">
        <img ng-hide="image.is_clicked" ng-src="{{image.url}}" width="200" height="200"
             ng-click="vm.flipImage(image.id, image.is_clicked)" alt="">
         <div class = "textBox" ng-show="image.is_clicked" ng-click="vm.flipImage(image.id, image.is_clicked)">
           <p>
             {{image.note}}
           </p>
         </div>
         <br>
         <br>
        <section class = "buttonArea">
          <button ng-click="vm.upvote(image.id)">Upvote Image {{image.votecount}}</button>
          <p>Number of Views:{{image.is_clicked_count}}</p>
          <button ng-click="vm.comments(image.id, image.view_comments)">View/Hide Comments</button>
        </section>
        <section ng-show="image.view_comments">
          <ul class="commentList">
            <li ng-repeat="comment in vm.commentArray" class="commentItem">
              {{comment.comment}}
            </li>
          </ul>
        </section>
        <button ng-hide="image.add_comment"ng-click="vm.addComment(image.id)">Add Comment</button>

        <section class= "addComment" ng-show="image.add_comment">
          <br>
          <input type="text" ng-model="noteInput">
          <br>
          <button ng-click="vm.submitComment(image.id, noteInput)">Submit Comment</button>
          <button ng-click="vm.addComment()">Cancel</button>

        </section>
      </div>


      </div>
    </section>
  </body>
</html>
